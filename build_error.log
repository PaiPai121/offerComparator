#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 886B 0.0s done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:18-alpine
#2 DONE 0.3s

#3 [internal] load .dockerignore
#3 transferring context: 2B 0.0s done
#3 DONE 0.0s

#4 [internal] load build context
#4 DONE 0.0s

#5 [deps 1/5] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
#5 resolve docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e 0.1s done
#5 CACHED

#6 [builder 2/5] WORKDIR /app
#6 CACHED

#4 [internal] load build context
#4 ...

#7 [deps 2/5] RUN apk add --no-cache libc6-compat
#7 1.019 fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/main/x86_64/APKINDEX.tar.gz
#7 1.268 fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/community/x86_64/APKINDEX.tar.gz
#7 2.776 (1/3) Installing musl-obstack (1.2.3-r2)
#7 2.780 (2/3) Installing libucontext (1.3.2-r0)
#7 2.784 (3/3) Installing gcompat (1.1.0-r4)
#7 2.797 OK: 10 MiB in 20 packages
#7 DONE 3.2s

#4 [internal] load build context
#4 ...

#8 [deps 3/5] WORKDIR /app
#8 DONE 0.1s

#4 [internal] load build context
#4 transferring context: 79.24MB 5.0s
#4 transferring context: 214.44MB 10.0s
#4 transferring context: 256.33MB 15.1s
#4 transferring context: 280.47MB 20.1s
#4 transferring context: 339.74MB 25.2s
#4 transferring context: 403.67MB 30.2s
#4 transferring context: 436.89MB 32.7s done
#4 DONE 33.1s

#9 [deps 4/5] COPY package.json package-lock.json ./
#9 DONE 0.2s

#10 [deps 5/5] RUN npm ci
#10 4.401 npm warn EBADENGINE Unsupported engine {
#10 4.401 npm warn EBADENGINE   package: 'next@16.1.1',
#10 4.401 npm warn EBADENGINE   required: { node: '>=20.9.0' },
#10 4.401 npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }
#10 4.401 npm warn EBADENGINE }
#10 43.96 
#10 43.96 added 490 packages, and audited 491 packages in 43s
#10 43.96 
#10 43.96 216 packages are looking for funding
#10 43.96   run `npm fund` for details
#10 43.96 
#10 43.96 found 0 vulnerabilities
#10 43.96 npm notice
#10 43.96 npm notice New major version of npm available! 10.8.2 -> 11.7.0
#10 43.96 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
#10 43.96 npm notice To update run: npm install -g npm@11.7.0
#10 43.96 npm notice
#10 DONE 44.2s

#11 [builder 3/5] COPY --from=deps /app/node_modules ./node_modules
#11 DONE 17.5s

#12 [builder 4/5] COPY . .
#12 DONE 17.9s

#13 [builder 5/5] RUN npm run build
#13 2.202 
#13 2.202 > ai-offer-comparator@0.1.0 build
#13 2.202 > next build
#13 2.202 
#13 2.611 You are using Node.js 18.20.8. For Next.js, Node.js version ">=20.9.0" is required.
#13 2.632 npm notice
#13 2.632 npm notice New major version of npm available! 10.8.2 -> 11.7.0
#13 2.632 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
#13 2.632 npm notice To update run: npm install -g npm@11.7.0
#13 2.632 npm notice
#13 ERROR: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
------
 > [builder 5/5] RUN npm run build:
2.202 
2.202 > ai-offer-comparator@0.1.0 build
2.202 > next build
2.202 
2.611 You are using Node.js 18.20.8. For Next.js, Node.js version ">=20.9.0" is required.
2.632 npm notice
2.632 npm notice New major version of npm available! 10.8.2 -> 11.7.0
2.632 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
2.632 npm notice To update run: npm install -g npm@11.7.0
2.632 npm notice
------
Dockerfile:19
--------------------
  17 |     
  18 |     # 执行构建：如果失败，它会报错退出
  19 | >>> RUN npm run build
  20 |     
  21 |     # ----- 第三阶段：最小化生产环境 -----
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
